"use strict";(self.webpackChunkdropshipping_frontend=self.webpackChunkdropshipping_frontend||[]).push([[117],{6117:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(9379),r=a(5043),t=a(3216),i=a(5475),n=a(4293),d=a(2339),c=a(579);const o=()=>{var e;const s=(0,t.Zp)(),[a,o]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)({firstName:"",lastName:"",phone:""}),b=(0,r.useCallback)(async()=>{try{const e=await n.A.getMe();o(e),p({firstName:e.firstName,lastName:e.lastName,phone:e.phone||""})}catch(e){d.Ay.error("Error cargando perfil"),n.A.logout(),s("/login")}finally{x(!1)}},[s]);(0,r.useEffect)(()=>{if(!n.A.isAuthenticated())return d.Ay.error("Debes iniciar sesi\xf3n"),void s("/login");b()},[s,b]);return m?(0,c.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,c.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold",children:"Mi Perfil"}),(0,c.jsx)("button",{onClick:()=>{n.A.logout(),d.Ay.success("Sesi\xf3n cerrada"),s("/")},className:"text-red-600 hover:text-red-700 font-medium",children:"Cerrar Sesi\xf3n"})]}),u?(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),(0,c.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:g.firstName,onChange:e=>p((0,l.A)((0,l.A)({},g),{},{firstName:e.target.value}))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),(0,c.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:g.lastName,onChange:e=>p((0,l.A)((0,l.A)({},g),{},{lastName:e.target.value}))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),(0,c.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:g.phone,onChange:e=>p((0,l.A)((0,l.A)({},g),{},{phone:e.target.value}))})]}),(0,c.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,c.jsx)("button",{onClick:async()=>{try{await n.A.updateProfile(g),d.Ay.success("Perfil actualizado exitosamente"),h(!1),b()}catch(e){d.Ay.error(e.message||"Error actualizando perfil")}},className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Guardar Cambios"}),(0,c.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}):(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Nombre"}),(0,c.jsxs)("p",{className:"font-medium text-lg",children:[null===a||void 0===a?void 0:a.firstName," ",null===a||void 0===a?void 0:a.lastName]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Email"}),(0,c.jsx)("p",{className:"font-medium text-lg",children:null===a||void 0===a?void 0:a.email})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Tel\xe9fono"}),(0,c.jsx)("p",{className:"font-medium text-lg",children:(null===a||void 0===a?void 0:a.phone)||"No especificado"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Rol"}),(0,c.jsx)("p",{className:"font-medium text-lg capitalize",children:null===a||void 0===a||null===(e=a.role)||void 0===e?void 0:e.toLowerCase()})]})]}),(0,c.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Editar Perfil"})]}),(0,c.jsxs)("div",{className:"mt-8 pt-6 border-t",children:[(0,c.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Acciones R\xe1pidas"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,c.jsxs)(i.N_,{to:"/my-orders",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udce6"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Mis \xd3rdenes"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"Ver historial de compras"})]})]}),(0,c.jsxs)(i.N_,{to:"/track",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udd0d"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Rastrear Orden"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"Seguimiento de env\xedos"})]})]}),(0,c.jsxs)(i.N_,{to:"/products",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udecd\ufe0f"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Productos"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"Ver cat\xe1logo"})]})]}),(0,c.jsxs)(i.N_,{to:"/",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83c\udfe0"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:"Inicio"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"Volver a la tienda"})]})]})]})]})]})})}}}]);
//# sourceMappingURL=117.4c504a8d.chunk.js.map