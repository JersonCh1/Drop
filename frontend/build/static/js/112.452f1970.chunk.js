"use strict";(self.webpackChunkdropshipping_frontend=self.webpackChunkdropshipping_frontend||[]).push([[112],{1972:(e,t,a)=>{a.d(t,{A:()=>i});a(5043);var s=a(2622),r=a(2339),l=a(579);const i=e=>{let{product:t,variant:a="icon",size:i="md",className:o=""}=e;const{addToCompare:n,removeFromCompare:c,isInCompare:d,compareProducts:x}=(0,s.f)(),m=d(t.id),h=e=>{if(e.preventDefault(),e.stopPropagation(),m)c(t.id),r.Ay.success("Eliminado del comparador");else{if(x.length>=4)return void r.Ay.error("M\xe1ximo 4 productos para comparar");n(t),r.Ay.success("A\xf1adido al comparador")}},u={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},g={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return"icon"===a?(0,l.jsx)("button",{onClick:h,className:"".concat(u[i]," flex items-center justify-center rounded-full transition-all duration-300 ").concat(m?"bg-blue-500 text-white hover:bg-blue-600":"bg-white text-gray-600 hover:bg-blue-50 hover:text-blue-500"," hover:scale-110 shadow-md ").concat(o),"aria-label":m?"Eliminar del comparador":"A\xf1adir al comparador",children:(0,l.jsx)("svg",{className:g[i],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}):(0,l.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ".concat(m?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-700 hover:bg-blue-50 hover:text-blue-500"," ").concat(o),children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,l.jsx)("span",{children:m?"En comparador":"Comparar"})]})}},4112:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(5043),r=a(3216),l=a(5475),i=a(2165),o=a(7513),n=a(1540),c=a(2339),d=a(4546),x=a(6625),m=a(579);const h=e=>{let{productId:t}=e;const{user:a}=(0,x.As)(),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(null),[n,d]=(0,s.useState)(!0),[h,u]=(0,s.useState)(!1),[g,p]=(0,s.useState)(5),[b,v]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),A="https://drop-production-cd2b.up.railway.app/api";(0,s.useEffect)(()=>{C()},[t]);const C=async()=>{try{d(!0);const e=await fetch("".concat(A,"/reviews/product/").concat(t)),a=await e.json();a.success&&(l(a.data.reviews),o(a.data.stats))}catch(e){console.error("Error loading reviews:",e)}finally{d(!1)}},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md";const a={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return(0,m.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(s=>(0,m.jsx)("svg",{className:"".concat(a[t]," ").concat(s<=e?"text-yellow-400":"text-gray-300"," fill-current"),viewBox:"0 0 20 20",children:(0,m.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},s))})};return n?(0,m.jsx)("div",{className:"py-8",children:(0,m.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,m.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,m.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,m.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})}):(0,m.jsxs)("div",{className:"py-8",children:[(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Opiniones de Clientes"}),i&&i.totalReviews>0?(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[(0,m.jsx)("div",{className:"text-center md:text-left",children:(0,m.jsxs)("div",{className:"flex items-center justify-center md:justify-start space-x-4 mb-4",children:[(0,m.jsx)("div",{className:"text-5xl font-black text-gray-900",children:i.averageRating.toFixed(1)}),(0,m.jsxs)("div",{children:[S(Math.round(i.averageRating),"lg"),(0,m.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Basado en ",i.totalReviews," opiniones"]})]})]})}),(0,m.jsx)("div",{children:i?(0,m.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>{const t=i.distribution[e]||0,a=i.totalReviews>0?t/i.totalReviews*100:0;return(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-1 w-16",children:[(0,m.jsx)("span",{className:"text-sm font-medium",children:e}),(0,m.jsx)("svg",{className:"w-3 h-3 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})})]}),(0,m.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,m.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:"".concat(a,"%")}})}),(0,m.jsx)("span",{className:"text-sm text-gray-600 w-12 text-right",children:t})]},e)})}):null})]}):(0,m.jsx)("div",{className:"bg-gray-50 rounded-2xl p-8 text-center border border-gray-200",children:(0,m.jsx)("p",{className:"text-gray-600",children:"S\xe9 el primero en dejar una opini\xf3n sobre este producto"})})]}),!h&&(0,m.jsx)("div",{className:"mb-8",children:(0,m.jsx)("button",{onClick:()=>u(!0),className:"w-full md:w-auto px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"\u270d\ufe0f Escribir una opini\xf3n"})}),h&&(0,m.jsxs)("div",{className:"mb-8 bg-white rounded-2xl border-2 border-blue-200 p-6 shadow-lg",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,m.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Tu opini\xf3n"}),(0,m.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,m.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,m.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a||y.trim())if(j.trim()){k(!0);try{const e=await fetch("".concat(A,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t,rating:g,title:b.trim()||null,comment:j.trim(),customerName:a?null:y.trim(),userId:(null===a||void 0===a?void 0:a.id)||null})}),s=await e.json();s.success?(c.Ay.success("\xa1Gracias por tu review! Ser\xe1 publicada despu\xe9s de moderaci\xf3n."),u(!1),p(5),v(""),f(""),N("")):c.Ay.error(s.message||"Error al enviar review")}catch(s){console.error("Error submitting review:",s),c.Ay.error("Error al enviar review")}finally{k(!1)}}else c.Ay.error("Por favor escribe un comentario");else c.Ay.error("Por favor ingresa tu nombre")},className:"space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Calificaci\xf3n"}),(0,m.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>(0,m.jsx)("button",{type:"button",onClick:()=>p(e),className:"focus:outline-none transition-transform hover:scale-110",children:(0,m.jsx)("svg",{className:"w-8 h-8 ".concat(e<=g?"text-yellow-400":"text-gray-300"," fill-current"),viewBox:"0 0 20 20",children:(0,m.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})})},e))})]}),!a&&(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tu nombre *"}),(0,m.jsx)("input",{type:"text",value:y,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Juan P.",required:!0})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"T\xedtulo (opcional)"}),(0,m.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Excelente calidad",maxLength:100})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tu opini\xf3n *"}),(0,m.jsx)("textarea",{value:j,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4,placeholder:"Cu\xe9ntanos qu\xe9 te pareci\xf3 el producto...",required:!0})]}),(0,m.jsxs)("div",{className:"flex space-x-3",children:[(0,m.jsx)("button",{type:"submit",disabled:w,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Enviando...":"Publicar opini\xf3n"}),(0,m.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]}),(0,m.jsx)("p",{className:"text-xs text-gray-500",children:"* Tu opini\xf3n ser\xe1 revisada antes de publicarse"})]})]}),r.length>0?(0,m.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,m.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-shadow duration-300",children:[(0,m.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[S(e.rating,"sm"),e.isVerified&&(0,m.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-semibold",children:"\u2713 Compra verificada"})]}),(0,m.jsx)("p",{className:"font-bold text-gray-900",children:e.customerName})]}),(0,m.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),e.title&&(0,m.jsx)("h4",{className:"font-bold text-gray-900 mb-2",children:e.title}),(0,m.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.comment})]},e.id))}):!h&&(0,m.jsx)("div",{className:"text-center py-8",children:(0,m.jsx)("p",{className:"text-gray-500",children:"No hay opiniones todav\xeda. \xa1S\xe9 el primero en dejar una!"})})]})},u=()=>{const{addItem:e}=(0,o._$)(),[t,a]=(0,s.useState)(null);return(0,m.jsxs)("div",{className:"space-y-8 mt-8",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"text-2xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"\ud83c\udf81 Combos Especiales"}),(0,m.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Ahorra m\xe1s comprando en paquete"})]})}),(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:1,title:"Pack Protecci\xf3n Completa",products:["Carcasa Premium","Protector de Pantalla","Cable USB-C"],discount:25,price:49.99,originalPrice:66.97,savings:16.98,badge:"M\xc1S VENDIDO"},{id:2,title:"Pack Auto + Carga",products:["Carcasa Premium","Soporte para Auto","Cable USB-C"],discount:20,price:54.99,originalPrice:68.97,savings:13.98,badge:"OFERTA"},{id:3,title:"Pack Todo Incluido",products:["Carcasa","Protector","Cable","Soporte Auto","Auriculares"],discount:30,price:89.99,originalPrice:128.95,savings:38.96,badge:"MEJOR VALOR"}].map(e=>(0,m.jsxs)("div",{className:"relative group bg-white rounded-2xl border-2 border-gray-200 p-6 hover:border-purple-400 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.badge&&(0,m.jsx)("div",{className:"absolute -top-3 -right-3 bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-1 rounded-full text-xs font-black shadow-lg transform rotate-12",children:e.badge}),(0,m.jsxs)("div",{className:"absolute top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-lg text-sm font-bold",children:["-",e.discount,"%"]}),(0,m.jsxs)("div",{className:"mt-8",children:[(0,m.jsx)("h4",{className:"text-lg font-black text-gray-900 mb-3",children:e.title}),(0,m.jsx)("ul",{className:"space-y-2 mb-4",children:e.products.map((e,t)=>(0,m.jsxs)("li",{className:"flex items-center text-sm text-gray-700",children:[(0,m.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e]},t))}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsxs)("div",{className:"flex items-baseline space-x-2 mb-1",children:[(0,m.jsxs)("span",{className:"text-3xl font-black text-purple-600",children:["$",e.price]}),(0,m.jsxs)("span",{className:"text-lg text-gray-400 line-through",children:["$",e.originalPrice]})]}),(0,m.jsxs)("p",{className:"text-sm font-semibold text-green-600",children:["\ud83d\udcb0 Ahorras $",e.savings.toFixed(2)]})]}),(0,m.jsx)("button",{onClick:()=>(e=>{a(e.id),c.Ay.success("".concat(e.title," agregado al carrito!"),{icon:"\ud83c\udf81"}),setTimeout(()=>a(null),2e3)})(e),disabled:t===e.id,className:"w-full py-3 rounded-xl font-bold text-sm transition-all duration-300 ".concat(t===e.id?"bg-green-500 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700"),children:t===e.id?(0,m.jsxs)("span",{className:"flex items-center justify-center",children:[(0,m.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"\xa1Agregado!"]}):"\ud83c\udf81 Agregar Combo"})]})]},e.id))})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"text-2xl font-black bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"\ud83d\udecd\ufe0f Completa tu compra"}),(0,m.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Los clientes tambi\xe9n compraron"})]})}),(0,m.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{id:2,name:"Protector de Pantalla Premium",price:12.99,originalPrice:19.99,image:"https://placehold.co/400x400/2c3e50/fff?text=Rugged+Case",rating:4.9,reviews:892,inStock:!0},{id:3,name:"Cable USB-C Reforzado",price:15.99,originalPrice:24.99,image:"https://placehold.co/400x400/e74c3c/fff?text=Premium+Case",rating:4.7,reviews:456,inStock:!0},{id:4,name:"Soporte Magn\xe9tico para Auto",price:18.99,originalPrice:29.99,image:"https://placehold.co/400x400/3498db/fff?text=Slim+Case",rating:4.8,reviews:234,inStock:!0},{id:5,name:"Auriculares Bluetooth",price:34.99,originalPrice:59.99,image:"https://placehold.co/400x400/2ecc71/fff?text=Wireless+Charger",rating:4.6,reviews:678,inStock:!1}].map(t=>(0,m.jsxs)("div",{className:"group bg-white rounded-2xl border-2 border-gray-200 overflow-hidden hover:border-blue-400 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[(0,m.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[(0,m.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),!t.inStock&&(0,m.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,m.jsx)("span",{className:"bg-red-500 text-white px-4 py-2 rounded-lg font-bold text-sm",children:"Agotado"})}),(0,m.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-bold",children:["-",Math.round((t.originalPrice-t.price)/t.originalPrice*100),"%"]})]}),(0,m.jsxs)("div",{className:"p-4",children:[(0,m.jsx)("h4",{className:"font-bold text-gray-900 text-sm mb-2 line-clamp-2",children:t.name}),(0,m.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,m.jsx)("div",{className:"flex text-yellow-400",children:[...Array(5)].map((e,t)=>(0,m.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},t))}),(0,m.jsxs)("span",{className:"text-xs text-gray-600",children:["(",t.reviews,")"]})]}),(0,m.jsxs)("div",{className:"flex items-baseline space-x-2 mb-3",children:[(0,m.jsxs)("span",{className:"text-xl font-black text-blue-600",children:["$",t.price]}),(0,m.jsxs)("span",{className:"text-sm text-gray-400 line-through",children:["$",t.originalPrice]})]}),(0,m.jsx)("button",{onClick:()=>(t=>{const a={id:"upsell-".concat(t.id),productId:t.id,variantId:t.id,name:t.name,price:t.price,quantity:1,image:t.image,model:"Universal",color:"N/A"};e(a),c.Ay.success("".concat(t.name," agregado al carrito!"),{icon:"\u2705"})})(t),disabled:!t.inStock,className:"w-full py-2 rounded-lg font-bold text-xs transition-all duration-300 ".concat(t.inStock?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white hover:from-blue-700 hover:to-cyan-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:t.inStock?"+ Agregar":"Agotado"})]})]},t.id))})]}),(0,m.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-2xl border-2 border-orange-200 p-6",children:[(0,m.jsxs)("h3",{className:"text-xl font-black text-gray-900 mb-4 flex items-center",children:[(0,m.jsx)("span",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center mr-3",children:(0,m.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})}),"Comprados frecuentemente juntos"]}),(0,m.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("div",{className:"w-20 h-20 bg-white rounded-lg border-2 border-gray-200 flex items-center justify-center",children:(0,m.jsx)("span",{className:"text-2xl",children:"\ud83d\udcf1"})}),(0,m.jsx)("span",{className:"text-2xl text-gray-400",children:"+"}),(0,m.jsx)("div",{className:"w-20 h-20 bg-white rounded-lg border-2 border-gray-200 flex items-center justify-center",children:(0,m.jsx)("span",{className:"text-2xl",children:"\ud83d\udee1\ufe0f"})}),(0,m.jsx)("span",{className:"text-2xl text-gray-400",children:"+"}),(0,m.jsx)("div",{className:"w-20 h-20 bg-white rounded-lg border-2 border-gray-200 flex items-center justify-center",children:(0,m.jsx)("span",{className:"text-2xl",children:"\ud83d\udd0c"})})]}),(0,m.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,m.jsxs)("div",{className:"flex items-baseline space-x-2 mb-2",children:[(0,m.jsx)("span",{className:"text-2xl font-black text-orange-600",children:"$59.97"}),(0,m.jsx)("span",{className:"text-lg text-gray-400 line-through",children:"$79.97"}),(0,m.jsx)("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:"Ahorra $20"})]}),(0,m.jsx)("button",{className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 rounded-xl font-bold text-sm hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl",children:"\ud83c\udfaf Agregar los 3 al carrito"})]})]})]})]})};var g=a(5444),p=a(1972);const b=()=>{var e,t;const{slug:a}=(0,r.g)(),x=(0,r.Zp)(),{addItem:b}=(0,o._$)(),{formatPrice:v}=(0,n.H)(),[j,f]=(0,s.useState)(null),[y,N]=(0,s.useState)(!0),[w,k]=(0,s.useState)(0),[A,C]=(0,s.useState)(null),[S,L]=(0,s.useState)(1),P=(0,s.useCallback)(async()=>{if(a){N(!0);try{const e=await i.A.getProductBySlug(a);if(e){f(e);const t=i.A.getAvailableVariants(e);t.length>0&&C(t[0]);const a=i.A.getLowestPrice(e);d.x.trackViewContent({content_name:e.name,content_ids:[e.id],content_type:"product",value:a,currency:"USD"})}else c.Ay.error("Producto no encontrado"),x("/products")}catch(e){console.error("Error loading product:",e),c.Ay.error("Error al cargar el producto")}finally{N(!1)}}},[a,x]);(0,s.useEffect)(()=>{P()},[P]),(0,s.useEffect)(()=>{const e=()=>{"visible"===document.visibilityState&&P()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[P]);const M=A?parseFloat(A.price):j?i.A.getLowestPrice(j):0,E=A?A.stockQuantity:(null===j||void 0===j?void 0:j.stockCount)||0,z=j&&i.A.isAvailable(j);return y?(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,m.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando producto..."})]})}):j?(0,m.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,m.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,m.jsx)("nav",{className:"mb-6 text-sm",children:(0,m.jsxs)("ol",{className:"flex items-center space-x-2 text-gray-600",children:[(0,m.jsx)("li",{children:(0,m.jsx)(l.N_,{to:"/",className:"hover:text-blue-600",children:"Inicio"})}),(0,m.jsx)("li",{children:"/"}),(0,m.jsx)("li",{children:(0,m.jsx)(l.N_,{to:"/products",className:"hover:text-blue-600",children:"Productos"})}),(0,m.jsx)("li",{children:"/"}),(0,m.jsx)("li",{className:"text-gray-900 font-medium",children:j.name})]})}),(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:(0,m.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(0,m.jsx)("img",{src:(null===(e=j.images[w])||void 0===e?void 0:e.url)||"https://placehold.co/600x600?text=No+Image",alt:(null===(t=j.images[w])||void 0===t?void 0:t.altText)||j.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://placehold.co/600x600?text=No+Image"}})})}),j.images.length>1&&(0,m.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:j.images.map((e,t)=>(0,m.jsx)("button",{onClick:()=>k(t),className:"aspect-square bg-white rounded-lg overflow-hidden border-2 transition-all ".concat(w===t?"border-blue-600 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"),children:(0,m.jsx)("img",{src:e.url,alt:e.altText||"".concat(j.name," ").concat(t+1),className:"w-full h-full object-cover"})},e.id))})]}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,m.jsxs)("div",{className:"mb-6",children:[j.isFeatured&&(0,m.jsx)("span",{className:"inline-block bg-yellow-100 text-yellow-800 text-xs font-semibold px-3 py-1 rounded-full mb-3",children:"\u2b50 Producto Destacado"}),(0,m.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:j.name}),(0,m.jsxs)("div",{className:"flex items-baseline space-x-3 mb-4",children:[(0,m.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:v(M)}),(null===A||void 0===A?void 0:A.comparePrice)&&parseFloat(A.comparePrice)>M&&(0,m.jsx)("span",{className:"text-2xl text-gray-400 line-through",children:v(parseFloat(A.comparePrice))})]}),(0,m.jsx)("div",{className:"mb-6",children:z?(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsxs)("div",{className:"flex items-center text-green-600 bg-green-50 px-3 py-1.5 rounded-lg",children:[(0,m.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,m.jsx)("span",{className:"font-semibold",children:"Disponible"})]}),(0,m.jsx)("span",{className:"text-sm text-gray-600",children:"Listo para enviar"})]}):(0,m.jsxs)("div",{className:"flex items-center text-red-600 bg-red-50 px-3 py-1.5 rounded-lg inline-flex",children:[(0,m.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,m.jsx)("span",{className:"font-semibold",children:"Agotado"})]})})]}),(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Descripci\xf3n"}),(0,m.jsx)("p",{className:"text-gray-600 leading-relaxed",children:j.description||"Carcasa de alta calidad para proteger tu iPhone."})]}),j.compatibility&&j.compatibility.length>0&&(()=>{const e=Array.isArray(j.compatibility)?j.compatibility:"string"===typeof j.compatibility?JSON.parse(j.compatibility):[];return(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Compatibilidad"}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(e=>(0,m.jsx)("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-md text-sm font-medium",children:e},e))})]})})(),j.variants.length>0&&(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Selecciona una opci\xf3n:"}),(0,m.jsx)("div",{className:"grid grid-cols-2 gap-3",children:j.variants.filter(e=>e.isActive).map(e=>(0,m.jsxs)("button",{onClick:()=>C(e),disabled:0===e.stockQuantity,className:"p-4 border-2 rounded-lg text-left transition-all ".concat((null===A||void 0===A?void 0:A.id)===e.id?"border-blue-600 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"," ").concat(0===e.stockQuantity?"opacity-50 cursor-not-allowed":""),children:[(0,m.jsx)("div",{className:"font-medium text-gray-900",children:e.color}),(0,m.jsx)("div",{className:"text-sm text-gray-600",children:v(parseFloat(e.price))}),0===e.stockQuantity&&(0,m.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"Agotado"})]},e.id))})]}),(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Cantidad:"}),(0,m.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,m.jsx)("button",{onClick:()=>L(Math.max(1,S-1)),className:"w-10 h-10 border border-gray-300 rounded-md hover:bg-gray-50 font-semibold",children:"-"}),(0,m.jsx)("input",{type:"number",value:S,onChange:e=>L(Math.max(1,Math.min(E,parseInt(e.target.value)||1))),className:"w-20 text-center border border-gray-300 rounded-md py-2 font-semibold",min:"1",max:E}),(0,m.jsx)("button",{onClick:()=>L(Math.min(E,S+1)),className:"w-10 h-10 border border-gray-300 rounded-md hover:bg-gray-50 font-semibold",children:"+"})]})]}),(0,m.jsx)("button",{onClick:()=>{if(!j)return;const e=A?parseFloat(A.price):i.A.getLowestPrice(j),t=i.A.getMainImage(j),a={id:A?A.id:j.id,productId:parseInt(j.id.replace(/[^0-9]/g,""))||1,variantId:A?parseInt(A.id.replace(/[^0-9]/g,"")):void 0,name:j.name,price:e,model:j.model||(null===A||void 0===A?void 0:A.name)||"Universal",color:(null===A||void 0===A?void 0:A.color)||"Default",quantity:S,image:t,sku:(null===A||void 0===A?void 0:A.sku)||j.slug,maxQuantity:(null===A||void 0===A?void 0:A.stockQuantity)||j.stockCount};b(a),d.x.trackAddToCart({content_name:a.name,content_ids:[j.id],content_type:"product",value:e*S,currency:"USD",quantity:S})},disabled:!z,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed mb-4",children:z?"Agregar al Carrito":"Producto Agotado"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,m.jsx)(g.A,{productId:j.id,variant:"button"}),(0,m.jsx)(p.A,{product:j,variant:"button"})]}),(0,m.jsxs)("div",{className:"border-t pt-6 space-y-3",children:[(0,m.jsxs)("div",{className:"flex items-start text-sm text-gray-600",children:[(0,m.jsx)("svg",{className:"w-5 h-5 mr-3 text-blue-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-900",children:"Env\xedo internacional"}),(0,m.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tiempo estimado: 15-30 d\xedas h\xe1biles"})]})]}),(0,m.jsxs)("div",{className:"flex items-start text-sm text-gray-600",children:[(0,m.jsx)("svg",{className:"w-5 h-5 mr-3 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-900",children:"Garant\xeda de satisfacci\xf3n"}),(0,m.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"30 d\xedas de garant\xeda en todos los productos"})]})]}),(0,m.jsxs)("div",{className:"flex items-start text-sm text-gray-600",children:[(0,m.jsx)("svg",{className:"w-5 h-5 mr-3 text-purple-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-900",children:"Pago seguro"}),(0,m.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe9todos de pago seguros y verificados"})]})]})]})]})})]}),(0,m.jsx)("div",{className:"mt-12 bg-white rounded-lg shadow-md p-8",children:(0,m.jsx)(h,{productId:j.id})}),(0,m.jsx)("div",{className:"mt-12",children:(0,m.jsx)(u,{})})]})}):null}},4401:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(9722);const r="https://drop-production-cd2b.up.railway.app/api";const l=new class{getAuthToken(){return localStorage.getItem("token")}async getWishlist(){const e=this.getAuthToken();if(!e)throw new Error("No autenticado");return(await s.A.get("".concat(r,"/wishlist"),{headers:{Authorization:"Bearer ".concat(e)}})).data.wishlist}async addToWishlist(e){const t=this.getAuthToken();if(!t)throw new Error("Debes iniciar sesi\xf3n para a\xf1adir a favoritos");await s.A.post("".concat(r,"/wishlist/add"),{productId:e},{headers:{Authorization:"Bearer ".concat(t)}})}async removeFromWishlist(e){const t=this.getAuthToken();if(!t)throw new Error("No autenticado");await s.A.delete("".concat(r,"/wishlist/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})}async checkInWishlist(e){const t=this.getAuthToken();if(!t)return!1;try{return(await s.A.get("".concat(r,"/wishlist/check/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.inWishlist}catch(a){return!1}}async getWishlistCount(){const e=this.getAuthToken();if(!e)return 0;try{return(await s.A.get("".concat(r,"/wishlist/count"),{headers:{Authorization:"Bearer ".concat(e)}})).data.count}catch(t){return 0}}}},5444:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5043),r=a(4401),l=a(2339),i=a(579);const o=e=>{let{productId:t,variant:a="icon",size:o="md",className:n=""}=e;const[c,d]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{const e=await r.A.checkInWishlist(t);d(e)}catch(e){}finally{u(!1)}})()},[t]);const g=async e=>{e.preventDefault(),e.stopPropagation(),m(!0);try{c?(await r.A.removeFromWishlist(t),d(!1),l.Ay.success("Eliminado de favoritos")):(await r.A.addToWishlist(t),d(!0),l.Ay.success("A\xf1adido a favoritos"))}catch(a){a.message.includes("autenticado")||a.message.includes("sesi\xf3n")?l.Ay.error("Debes iniciar sesi\xf3n para a\xf1adir a favoritos"):l.Ay.error(c?"Error al eliminar de favoritos":"Error al a\xf1adir a favoritos")}finally{m(!1)}},p={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},b={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return h?null:"icon"===a?(0,i.jsx)("button",{onClick:g,disabled:x,className:"".concat(p[o]," flex items-center justify-center rounded-full transition-all duration-300 ").concat(c?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-600 hover:bg-red-50 hover:text-red-500"," ").concat(x?"opacity-50 cursor-not-allowed":"hover:scale-110"," shadow-md ").concat(n),"aria-label":c?"Eliminar de favoritos":"A\xf1adir a favoritos",children:x?(0,i.jsxs)("svg",{className:"".concat(b[o]," animate-spin"),fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,i.jsx)("svg",{className:b[o],fill:c?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}):(0,i.jsxs)("button",{onClick:g,disabled:x,className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ".concat(c?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 text-gray-700 hover:bg-red-50 hover:text-red-500"," ").concat(x?"opacity-50 cursor-not-allowed":""," ").concat(n),children:[(0,i.jsx)("svg",{className:"w-5 h-5",fill:c?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,i.jsx)("span",{children:c?"En favoritos":"A\xf1adir a favoritos"})]})}}}]);
//# sourceMappingURL=112.452f1970.chunk.js.map