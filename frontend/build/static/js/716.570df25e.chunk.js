"use strict";(self.webpackChunkdropshipping_frontend=self.webpackChunkdropshipping_frontend||[]).push([[716],{2716:(e,r,s)=>{s.r(r),s.d(r,{default:()=>d});var a=s(9379),o=s(5043),l=s(3216),n=s(4293),t=s(2339),i=s(579);const d=()=>{const[e,r]=(0,o.useState)(!0),[s,d]=(0,o.useState)(!1),c=(0,l.Zp)(),[u,m]=(0,o.useState)({email:"",password:""}),[b,p]=(0,o.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""});return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:(0,i.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:e?"Iniciar Sesi\xf3n":"Crear Cuenta"}),(0,i.jsxs)("div",{className:"flex mb-6 border-b",children:[(0,i.jsx)("button",{className:"flex-1 py-2 text-center ".concat(e?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500"),onClick:()=>r(!0),children:"Iniciar Sesi\xf3n"}),(0,i.jsx)("button",{className:"flex-1 py-2 text-center ".concat(e?"text-gray-500":"border-b-2 border-blue-600 text-blue-600 font-medium"),onClick:()=>r(!1),children:"Registrarse"})]}),e?(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{console.log("\ud83d\udd10 Iniciando login...");const e=await n.A.login(u.email,u.password);console.log("\u2705 Login exitoso:",e),console.log("\ud83d\udccb Obteniendo datos del usuario...");const r=await n.A.getMe();console.log("\ud83d\udc64 Usuario obtenido:",r),console.log("\ud83d\udd11 Rol del usuario:",r.role),t.Ay.success("\xa1Bienvenido ".concat(r.firstName,"!")),"ADMIN"===r.role?(console.log("\ud83d\ude80 Redirigiendo a /admin..."),c("/admin")):(console.log("\ud83d\ude80 Redirigiendo a /profile..."),c("/profile"))}catch(r){console.error("\u274c Error en login:",r),t.Ay.error(r.message||"Error al iniciar sesi\xf3n")}finally{d(!1)}},className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,i.jsx)("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.email,onChange:e=>m((0,a.A)((0,a.A)({},u),{},{email:e.target.value})),placeholder:"tu@email.com"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a"}),(0,i.jsx)("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.password,onChange:e=>m((0,a.A)((0,a.A)({},u),{},{password:e.target.value})),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,i.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}):(0,i.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.password===b.confirmPassword)if(b.password.length<6)t.Ay.error("La contrase\xf1a debe tener al menos 6 caracteres");else{d(!0);try{await n.A.register({firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,password:b.password}),t.Ay.success("\xa1Cuenta creada exitosamente!"),c("/profile")}catch(r){t.Ay.error(r.message||"Error al registrarse")}finally{d(!1)}}else t.Ay.error("Las contrase\xf1as no coinciden")},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),(0,i.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b.firstName,onChange:e=>p((0,a.A)((0,a.A)({},b),{},{firstName:e.target.value})),placeholder:"Juan"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),(0,i.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b.lastName,onChange:e=>p((0,a.A)((0,a.A)({},b),{},{lastName:e.target.value})),placeholder:"P\xe9rez"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,i.jsx)("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b.email,onChange:e=>p((0,a.A)((0,a.A)({},b),{},{email:e.target.value})),placeholder:"tu@email.com"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono (opcional)"}),(0,i.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b.phone,onChange:e=>p((0,a.A)((0,a.A)({},b),{},{phone:e.target.value})),placeholder:"+51 987 654 321"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a"}),(0,i.jsx)("input",{type:"password",required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b.password,onChange:e=>p((0,a.A)((0,a.A)({},b),{},{password:e.target.value})),placeholder:"M\xednimo 6 caracteres"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Contrase\xf1a"}),(0,i.jsx)("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b.confirmPassword,onChange:e=>p((0,a.A)((0,a.A)({},b),{},{confirmPassword:e.target.value})),placeholder:"Repite tu contrase\xf1a"})]}),(0,i.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?"Creando cuenta...":"Crear Cuenta"})]}),(0,i.jsx)("div",{className:"mt-6 text-center",children:(0,i.jsx)("button",{onClick:()=>c("/"),className:"text-sm text-gray-600 hover:text-gray-800",children:"\u2190 Volver a la tienda"})})]})})}}}]);
//# sourceMappingURL=716.570df25e.chunk.js.map