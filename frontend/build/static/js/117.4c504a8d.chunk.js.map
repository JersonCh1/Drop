{"version":3,"file":"static/js/117.4c504a8d.chunk.js","mappings":"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","sources":["pages/ProfilePage.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport authService from '../services/authService';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst ProfilePage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [editData, setEditData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: ''\r\n  });\r\n\r\n  const loadUser = useCallback(async () => {\r\n    try {\r\n      const userData = await authService.getMe();\r\n      setUser(userData);\r\n      setEditData({\r\n        firstName: userData.firstName,\r\n        lastName: userData.lastName,\r\n        phone: userData.phone || ''\r\n      });\r\n    } catch (error) {\r\n      toast.error('Error cargando perfil');\r\n      authService.logout();\r\n      navigate('/login');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    if (!authService.isAuthenticated()) {\r\n      toast.error('Debes iniciar sesión');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    loadUser();\r\n  }, [navigate, loadUser]);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await authService.updateProfile(editData);\r\n      toast.success('Perfil actualizado exitosamente');\r\n      setEditing(false);\r\n      loadUser();\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Error actualizando perfil');\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    authService.logout();\r\n    toast.success('Sesión cerrada');\r\n    navigate('/');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-2xl\">\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-3xl font-bold\">Mi Perfil</h1>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"text-red-600 hover:text-red-700 font-medium\"\r\n          >\r\n            Cerrar Sesión\r\n          </button>\r\n        </div>\r\n\r\n        {editing ? (\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Nombre\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                value={editData.firstName}\r\n                onChange={(e) => setEditData({ ...editData, firstName: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Apellido\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                value={editData.lastName}\r\n                onChange={(e) => setEditData({ ...editData, lastName: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Teléfono\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                value={editData.phone}\r\n                onChange={(e) => setEditData({ ...editData, phone: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex gap-2 pt-4\">\r\n              <button\r\n                onClick={handleSave}\r\n                className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Guardar Cambios\r\n              </button>\r\n              <button\r\n                onClick={() => setEditing(false)}\r\n                className=\"bg-gray-300 text-gray-700 px-6 py-2 rounded-md hover:bg-gray-400 transition-colors\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Nombre</label>\r\n                <p className=\"font-medium text-lg\">{user?.firstName} {user?.lastName}</p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Email</label>\r\n                <p className=\"font-medium text-lg\">{user?.email}</p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Teléfono</label>\r\n                <p className=\"font-medium text-lg\">{user?.phone || 'No especificado'}</p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Rol</label>\r\n                <p className=\"font-medium text-lg capitalize\">{user?.role?.toLowerCase()}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setEditing(true)}\r\n              className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors\"\r\n            >\r\n              Editar Perfil\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mt-8 pt-6 border-t\">\r\n          <h2 className=\"text-xl font-bold mb-4\">Acciones Rápidas</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n            <Link\r\n              to=\"/my-orders\"\r\n              className=\"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors\"\r\n            >\r\n              <span className=\"text-2xl\">📦</span>\r\n              <div>\r\n                <div className=\"font-medium\">Mis Órdenes</div>\r\n                <div className=\"text-sm text-gray-600\">Ver historial de compras</div>\r\n              </div>\r\n            </Link>\r\n\r\n            <Link\r\n              to=\"/track\"\r\n              className=\"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors\"\r\n            >\r\n              <span className=\"text-2xl\">🔍</span>\r\n              <div>\r\n                <div className=\"font-medium\">Rastrear Orden</div>\r\n                <div className=\"text-sm text-gray-600\">Seguimiento de envíos</div>\r\n              </div>\r\n            </Link>\r\n\r\n            <Link\r\n              to=\"/products\"\r\n              className=\"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors\"\r\n            >\r\n              <span className=\"text-2xl\">🛍️</span>\r\n              <div>\r\n                <div className=\"font-medium\">Productos</div>\r\n                <div className=\"text-sm text-gray-600\">Ver catálogo</div>\r\n              </div>\r\n            </Link>\r\n\r\n            <Link\r\n              to=\"/\"\r\n              className=\"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors\"\r\n            >\r\n              <span className=\"text-2xl\">🏠</span>\r\n              <div>\r\n                <div className=\"font-medium\">Inicio</div>\r\n                <div className=\"text-sm text-gray-600\">Volver a la tienda</div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"names":["ProfilePage","_user$role","navigate","useNavigate","user","setUser","useState","loading","setLoading","editing","setEditing","editData","setEditData","firstName","lastName","phone","loadUser","useCallback","async","userData","authService","getMe","error","toast","logout","useEffect","isAuthenticated","_jsx","className","children","_jsxs","onClick","handleLogout","success","type","value","onChange","e","_objectSpread","target","updateProfile","message","email","role","toLowerCase","Link","to"],"sourceRoot":""}